# go init 函数解析

## init 函数的作用

	init 函数用在设置包、初始化变量或其他要在程序运行前优先完成的引导工作。

## init 函数的执行时机

	所有被编译器发现的 init 函数都会安排在 main 函数之前执行，且不允许被其他函数调用。

## init 函数数量

	1. 每个源文件可以拥有多个init函数(这一点比较特殊，但是不觉得有啥卵用)

	2. 每个包可以用用多个init函数

## init 函数的调用顺序

	1. 同一个包的init执行顺序，golang没有明确定义，编程时要注意程序不要依赖这个执行顺序。

	2. 不同包的init函数按照包导入的依赖关系决定执行顺序。

## go 的程序初始化

golang程序初始化先于main函数执行，由runtime进行初始化，初始化顺序如下：

	1.初始化导入的包（包的初始化顺序并不是按导入顺序（“从上到下”）执行的，runtime需要解析包依赖关系，没有依赖的包最先初始化，与变量初始化依赖关系类似，参见golang变量的初始化）；

	2. 初始化包作用域的变量（该作用域的变量的初始化也并非按照“从上到下、从左到右”的顺序，runtime解析变量依赖关系，没有依赖的变量最先初始化，参见golang变量的初始化）

	3. 执行包的init函数；